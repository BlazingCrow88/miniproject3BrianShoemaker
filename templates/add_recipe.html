{% extends "base.html" %}

{% block title %}Add Recipe - Recipe Sharing Platform{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h3 class="mb-0"><i class="bi bi-plus-circle"></i> Share Your Recipe</h3>
            </div>
            <div class="card-body p-4">
                <form method="POST" action="{{ url_for('add_recipe') }}" id="recipeForm">
                    <div class="mb-4">
                        <label for="title" class="form-label fw-bold">
                            <i class="bi bi-card-heading"></i> Recipe Title *
                        </label>
                        <input type="text" 
                               class="form-control form-control-lg" 
                               id="title" 
                               name="title" 
                               required
                               placeholder="e.g., Grandma's Chocolate Chip Cookies"
                               maxlength="200">
                    </div>

                    <div class="mb-4">
                        <label for="description" class="form-label fw-bold">
                            <i class="bi bi-text-paragraph"></i> Description *
                        </label>
                        <textarea class="form-control" 
                                  id="description" 
                                  name="description" 
                                  rows="3" 
                                  required
                                  placeholder="Brief description of your recipe..."></textarea>
                        <div class="form-text">A short summary that will entice others to try your recipe</div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label for="category" class="form-label fw-bold">
                                <i class="bi bi-tag"></i> Category
                            </label>
                            <select class="form-select" id="category" name="category">
                                <option value="">Select a category...</option>
                                <option value="Breakfast">Breakfast</option>
                                <option value="Lunch">Lunch</option>
                                <option value="Dinner">Dinner</option>
                                <option value="Dessert">Dessert</option>
                                <option value="Snack">Snack</option>
                                <option value="Appetizer">Appetizer</option>
                                <option value="Beverage">Beverage</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label for="servings" class="form-label fw-bold">
                                <i class="bi bi-people"></i> Servings
                            </label>
                            <input type="number" 
                                   class="form-control" 
                                   id="servings" 
                                   name="servings" 
                                   min="1" 
                                   max="100"
                                   placeholder="e.g., 4">
                        </div>
                    </div>

                    <div class="row mb-4">
                        <div class="col-md-6">
                            <label for="prep_time" class="form-label fw-bold">
                                <i class="bi bi-clock"></i> Prep Time (minutes)
                            </label>
                            <input type="number" 
                                   class="form-control" 
                                   id="prep_time" 
                                   name="prep_time" 
                                   min="0"
                                   placeholder="e.g., 15">
                        </div>
                        <div class="col-md-6">
                            <label for="cook_time" class="form-label fw-bold">
                                <i class="bi bi-fire"></i> Cook Time (minutes)
                            </label>
                            <input type="number" 
                                   class="form-control" 
                                   id="cook_time" 
                                   name="cook_time" 
                                   min="0"
                                   placeholder="e.g., 30">
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="ingredients" class="form-label fw-bold">
                            <i class="bi bi-basket"></i> Ingredients *
                        </label>
                        <textarea class="form-control" 
                                  id="ingredients" 
                                  name="ingredients" 
                                  rows="8" 
                                  required
                                  placeholder="List each ingredient on a new line:
• 2 cups all-purpose flour
• 1 cup sugar
• 1/2 cup butter, softened
• 2 eggs"></textarea>
                        <div class="form-text">List each ingredient on a separate line</div>
                    </div>

                    <div class="mb-4">
                        <label for="instructions" class="form-label fw-bold">
                            <i class="bi bi-list-ol"></i> Instructions *
                        </label>
                        <textarea class="form-control" 
                                  id="instructions" 
                                  name="instructions" 
                                  rows="10" 
                                  required
                                  placeholder="Write detailed step-by-step instructions:
1. Preheat oven to 350°F (175°C).
2. Mix flour and sugar in a bowl.
3. Add butter and eggs, mix until combined.
4. ..."></textarea>
                        <div class="form-text">Provide clear, step-by-step instructions</div>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-check-circle"></i> Submit Recipe
                        </button>
                        <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
                            <i class="bi bi-x-circle"></i> Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Form validation feedback
    document.getElementById('recipeForm').addEventListener('submit', function(event) {
        const title = document.getElementById('title').value.trim();
        const description = document.getElementById('description').value.trim();
        const ingredients = document.getElementById('ingredients').value.trim();
        const instructions = document.getElementById('instructions').value.trim();
        
        if (!title || !description || !ingredients || !instructions) {
            event.preventDefault();
            alert('Please fill in all required fields (marked with *)');
            return false;
        }
    });
</script>
{% endblock %}